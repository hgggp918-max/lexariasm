<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CSGO STYLE FPS</title>
<style>
html,body{margin:0;overflow:hidden;background:#000;font-family:Arial}
#lobby{position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;color:#0f0}
.panel{border:2px solid #0f0;padding:20px;text-align:center}
button{background:#0f0;color:#000;border:none;padding:10px 20px;font-size:16px;cursor:pointer}
#hud{position:fixed;top:10px;left:10px;color:#0f0;display:none}
</style>
</head>
<body>

<div id="lobby">
  <div class="panel">
    <h2>CSGO STYLE LOBBY</h2>
    <p>CT vs T | BOT MATCH</p>
    <button onclick="start()">START MATCH</button>
  </div>
</div>

<div id="hud">
  HP: <span id="hp">100</span><br>
  TEAM: CT<br>
  WEAPON: AK
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
let scene,camera,renderer;
let player,bots=[],bullets=[];
let hp=100;

function start(){
 document.getElementById("lobby").style.display="none";
 document.getElementById("hud").style.display="block";
 init(); animate();
}

function init(){
 scene=new THREE.Scene();
 camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
 renderer=new THREE.WebGLRenderer();
 renderer.setSize(innerWidth,innerHeight);
 document.body.appendChild(renderer.domElement);

 scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));

 // MAP (CS STYLE)
 const floor=new THREE.Mesh(
  new THREE.PlaneGeometry(200,200),
  new THREE.MeshStandardMaterial({color:0x333333})
 );
 floor.rotation.x=-Math.PI/2;
 scene.add(floor);

 for(let i=0;i<30;i++){
  let wall=new THREE.Mesh(
   new THREE.BoxGeometry(5,5,1),
   new THREE.MeshStandardMaterial({color:0x555555})
  );
  wall.position.set(Math.random()*150-75,2.5,Math.random()*150-75);
  scene.add(wall);
 }

 player=new THREE.Object3D();
 player.position.set(0,1.6,0);
 scene.add(player);
 player.add(camera);
 camera.position.z=0;

 for(let i=0;i<5;i++)spawnBot();

 document.body.requestPointerLock();
 document.addEventListener("mousemove",e=>{
  player.rotation.y-=e.movementX*0.002;
  camera.rotation.x-=e.movementY*0.002;
 });

 document.addEventListener("click",shoot);
 document.addEventListener("keydown",move);
}

function spawnBot(){
 let bot=new THREE.Mesh(
  new THREE.BoxGeometry(1,2,1),
  new THREE.MeshStandardMaterial({color:0xff0000}) // TERORIST
 );
 bot.position.set(Math.random()*80-40,1,Math.random()*80-40);
 bot.hp=100;
 scene.add(bot);
 bots.push(bot);
}

function shoot(){
 let b=new THREE.Mesh(
  new THREE.SphereGeometry(0.1),
  new THREE.MeshBasicMaterial({color:0xffff00})
 );
 b.position.copy(player.position);
 b.dir=new THREE.Vector3(0,0,-1).applyQuaternion(camera.quaternion);
 scene.add(b);
 bullets.push(b);
}

function move(e){
 if(e.key==="w")player.translateZ(-1);
 if(e.key==="s")player.translateZ(1);
 if(e.key==="a")player.translateX(-1);
 if(e.key==="d")player.translateX(1);
}

function animate(){
 requestAnimationFrame(animate);

 bots.forEach(bot=>{
  bot.lookAt(player.position);
  bot.position.add(bot.getWorldDirection(new THREE.Vector3()).multiplyScalar(0.05));
  if(bot.position.distanceTo(player.position)<1.5){
   hp-=0.2;
   document.getElementById("hp").innerText=Math.floor(hp);
  }
 });

 bullets.forEach((b,i)=>{
  b.position.add(b.dir.clone().multiplyScalar(1));
  bots.forEach((bot,bi)=>{
   if(b.position.distanceTo(bot.position)<1){
    bot.hp-=25;
    scene.remove(b);bullets.splice(i,1);
    if(bot.hp<=0){
     scene.remove(bot);bots.splice(bi,1);
     spawnBot();
    }
   }
  });
 });

 renderer.render(scene,camera);
}
</script>
</body>
</html>
